## Version 1.6

### eosiolib
#### Partitioning
In `eosio.cdt` v1.6.0, `eosiolib` will now be partitioned into 3 groups. These allow for finer grained allowance for particular modes of compilation.
  - CAPI
  - Contracts
  - Core
  - The `CAPI` will only be available to contract writers using `eosio-cc` and purely for `C` smart contracts.
  - The `Contracts` will be available to `eosio-cpp` for smart contract writing. 
  - `Core` will be available to `eosio-cpp` for any of the modes (present and future).  
  - `eosio-cpp` in `fnative` mode will have access to all of these groups.

To access these new partitioned header files, use `<eosio/header_file.hpp>` instead of `<eosiolib/header_file.hpp>`.  Please note that all the old header files are still available at the old `eosiolib` directory, but these are deprecated and will be removed in v1.7.0.  Also, once you change one header file from `eosiolib` to `eosio` you will need to do so for all other occurrences at that point, because of some conflicts with the auto generated dispatcher.

### eosiolib C API
- `action.h`
- `chain.h`
- `crypto.h`
- `db.h`
- `permission.h`
- `print.h`
- `privileged.h`
- `system.h`
- `transaction.h`
- `types.h`

This entire API is now only available to C developers (i.e. using `eosio-cc`), and all internal uses in `Core` and `Contracts` have been guarded behind the namespace `eosio::internal_use_do_not_use`.  

### eosiolib Contracts API
- `action.hpp`
   - added C++ wrappers for
      - `publication_time` -> `time_point publication_time()`
      - `current_receiver` -> `name current_receiver()`
      - `read_action_data` -> `uint32_t read_action_data(void* msg, uint32_t len)`
      - `action_data_size` -> `uint32_t action_data_size()`
- `contract.hpp`
   - renamed `receiver` to `self`
   - renamed `code` to `first_receiver`
   - moved `CONTRACT`, `ACTION` and `TABLE` macros here.
   - added `get_first_receiver()`
   - deprecated `get_code()` instead use `get_first_receiver`
- `dispatcher.hpp`
   - no changes
- `eosio.hpp`
   - removed `CONTRACT`, `ACTION` and `TABLE` macros from here.
- `multi_index.hpp`
   - no changes
- `permission.hpp`
   - added C++ wrappers for
      - `check_transaction_authorization`
      - `check_permission_authorization`
      - `get_permission_last_used`
      - `get_account_creation_time`
- `privileged.hpp`
   - added C++ wrappers for
      - `get_resource_limits`
      - `set_resource_limits`
      - `set_proposed_producers`
      - `is_privileged`
      - `set_privileged`
- `producer_schedule.hpp`
   - moved `producer_key` struct here.
   - added C++ wrapper for `get_active_producers`
- `singleton.hpp`
   - no changes
- `system.hpp`
   - removed `check` functions from here.
   - added C++ wrappers for
      - `eosio_exit`
      - `current_time_point`
      - `current_block_time`
- `transaction.hpp`
   - added C++ wrappers for
      - `send_deferred`
      - `cancel_deferred`
      - `transaction_size`
      - `tapos_block_num`
      - `tapos_block_prefix`
      - `expiration`
      - `get_context_free_data`

#### eosiolib Core API
- `asset.hpp`
   - no changes
- `binary_extension.hpp`
   - moved `datastream` operators here.
- `check.hpp`
   - new file
   - moved `check` functions to here.
- `crypto.hpp`
   - moved `datastream` operators here.
- `datastream.hpp`
   - removed `datastream` operators from here for
      - `symbol`
      - `ignore`
      - `ignore_wrapper`
      - `public_key`
      - `signature`
      - `fixed_bytes`
- `fixed_bytes.hpp`
   - moved `datastream` operators here.
- `ignore.hpp`
   - moved `datastream` operators here.
- `name.hpp`
   - added `print` method
- `print.hpp`
   - added C++ wrappers `printhex` and `printl` (which replaces `prints_l`)
   - removed explicit `print` overloads for `eosio::symbol_code`, `eosio::fixed_bytes<T>` from here.
- `rope.hpp`
   - new file
   - houses a thin data structure for fast string concatenations.
- `serialize.hpp`
   - no changes
- `symbol.hpp`
   - moved `datastream` operators here.
- `time.hpp`
   - no changes
- `varint.hpp`
   - no changes

### Auto Code Generation
There is no more need to add the `EOSIO_DISPATCH` macro 
